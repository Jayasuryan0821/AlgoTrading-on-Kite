Note that support and resistance may need some refactoring
